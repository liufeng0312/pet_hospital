# 宠物医院管理系统 - 按天开发计划

本方案基于 `xuqiu.md` 的功能需求与 `mysql_design.md` 的数据库设计，制定的 12 天分阶段开发计划。

**技术栈**: Java 1.8 / Spring Boot + MySQL + Vue.js/React

**项目目录结构**:
- `pet-hospital-backend/`: 后端核心代码 (Spring Boot)
- `pet-hospital-frontend/`: 前端展示代码 (Vue.js/React + Mobile)

---

## 开发规范与准备 (开发效率保障)

### 1. 技术规范标准
- **前后端协议**: 统一使用 RESTful API 风格。
  - 请求成功: `{ "code": 200, "data": ..., "msg": "success" }`
  - 请求失败: `{ "code": 500, "msg": "错误原因" }`
- **代码规范**: 
  - 后端遵循 Google Java Style Guide，前端遵循 Airbnb JavaScript Style Guide。
  - Git 提交规范: `feat:`, `fix:`, `docs:`, `refactor:`, `test:`。
- **公共组件提前封装**: Day 1 & Day 2 优先封装全局异常处理、权限拦截器、前端通用 Table/Form 组件。

### 2. 每日验证清单 (Definition of Done)
- [ ] 代码通过静态扫描 (Checkstyle/ESLint)。
- [ ] 核心接口提供 Swagger/Postman 调试文档。
- [ ] 前后端完成基础联调（前端能展示后端真实返回的 mock 或 数据库数据）。
- [ ] 数据库变更同步更新到 `mysql_design.md`。

---

## 详细开发计划 (Day 1 - Day 12)

### Day 1: 项目初始化与环境搭建
- **后端 (`pet-hospital-backend/`)**: [x] 初始化 Spring Boot 2.x/3.x，集成 MyBatis-Plus, Spring Security, Swagger。
- **前端 (`pet-hospital-frontend/`)**: [x] 初始化 Vue3/React 项目，搭建基础 Layout (侧边栏、顶部导航)。
- **数据库**: [x] 执行 `mysql_design.md` 中的建表语句。

### Day 2: 客户档案管理
- **页面**: 客户列表页（分页、搜索）、登记弹窗、档案详情页。
- **效率点**: 封装通用的“客户选择器”组件，方便后续在挂号、收费模块复用。

### Day 3: 宠物档案管理
- **页面**: 宠物列表、照片墙、宠物详情（含健康时间线轴）。
- **技术**: 接入文件上传服务，处理图片缩略图展示。

### Day 4: 挂号与排队叫号
- **功能**: 实现排队看板，通过 WebSocket (或简单轮询) 实现“下一位”叫号提醒。
- **逻辑**: 处理挂号冲突（如：同一宠物在同一时间段不能重复挂号）。

### Day 5: 电子病历与诊疗过程
- **页面**: 医生工作台（左侧宠物信息，右侧病历输入）。
- **体验**: 支持 Markdown 或 富文本存储简要案列，支持病历历史对比查看。

### Day 6: 处方开具与打印
- **功能**: 处方单 PDF/HTML 预览。
- **联调**: 确保处方金额能正确计算并下发到待缴费状态。

### Day 7: 药品库存全生命周期
- **功能**: 库存流水记录（每一个操作都有迹可循），库存预警邮件/站内信模块。

### Day 8: 医疗服务与检验科室
- **功能**: 多字段检验结果录入，图片检验报告上传（如X光片）。

### Day 9: 住院与每日护理
- **功能**: 可视化床位图（类似座位图），直观展示床位占用情况。

### Day 10: 收费、结算与会员优惠
- **支付**: 集成简单的“模拟收银台”，支持扫码后手动确认支付成功。

### Day 11: 财务报表与业务统计
- **技术**: 使用 ECharts 或 AntV 展示收入曲线、占比分布图。

### Day 12: 智能提醒、系统联调与部署
- **联调**: 模拟一站式业务全生命周期。
- **交付**: 编写简单的 `deploy.sh` 及 `README.md`。

---

## 计划合理性确认与风险评估

### 1. 合理性分析
- **优点**: 
  - **模块化**: 强耦模块先开发（档案），弱耦模块后开发（统计），符合软件工程逻辑。
  - **渐进式**: 从核心单据流动到收银结算，开发路径清晰。
- **可行性**: 12 天完成 MVP (最小可行性产品) 是合理的，但前提是**界面使用 UI 组件库 (如 Element Plus / Ant Design)** 以减少 CSS 编写时间。

### 2. 风险点与应对
- **风险**: 医疗流程细碎（如药品规格换算）。
  - **对策**: 1.0 版本统一使用最小单位，待后续优化。
- **风险**: 支付与集成设备耗时。
  - **对策**: 第一版全部使用“模拟数据/手动确认”，预留接口位置。

### 3. 给您的建议 (高效开发秘籍)
1. **优先保障数据一致性**: 挂号、处方、收费单的金额一定要在后端进行二次校验。
2. **UI 走捷径**: 不要花费大量时间打磨 UI 细节，优先保证业务流程逻辑闭环。
3. **分文件夹开发的协作**: 
   - 建议在根目录建立 `api-specs/` 存放接口定义，前后端并行开发时以此为准。
